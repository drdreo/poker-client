<div class="page-container">
    <h1 class="table_name">Table <span class="is-primary">{{tableName}}</span></h1>
    <h3 class="table__action" *ngIf="notification.action$ | async as currentAction">{{currentAction}}</h3>

    <div class="ready-container" *ngIf="isPlayer">
        <div class="ready-container__message">Everyone's in?</div>
        <button class="button" (click)="startGame()">Start</button>
    </div>


    <div class="game_controls" *ngIf="isCurrentPlayer">
        <button class="button" (click)="check()">Check</button>
        <button class="button" (click)="call()">Call</button>
        <input #betAmount type="number"/>
        <button class="button" (click)="bet(+betAmount.value)">Bet</button>
        <button class="button" (click)="fold()">Fold</button>
    </div>


    <div class="table">
        <div class="stack card-place">
            <app-card *ngFor="let card of getArray(45); let i = index;"
                      figure="back"
                      [ngStyle]="{'top.px': -0.5*i +5 }"></app-card>
        </div>
        <div class="board card-place">
            <app-card *ngFor="let card of (board$ | async)"
                      [type]=""
                      [figure]="card.figure"
                      [value]="card.value"></app-card>
        </div>
        <div class="players">
            <app-player *ngFor="let player of (players$ | async); let i = index;"
                        [player]="player"
                        [index]="i"
                        [playing]="(currentPlayerID$ | async) === player.id"></app-player>
        </div>
        <div class="pot" *ngIf="pot$ | async as pot">
            <div class="pot__value">
                {{pot}}â‚¬
            </div>
            <div class="jetons">
                <app-coins [amount]="pot" [type]="50"></app-coins>
            </div>
            <div class="jetons">
                <app-coins [amount]="pot" [type]="10"></app-coins>
            </div>
            <div class="jetons">
                <app-coins [amount]="pot" [type]="5"></app-coins>
            </div>
            <div class="jetons">
                <app-coins [amount]="pot" [type]="1"></app-coins>
            </div>
        </div>
    </div>

    <div class="overlay" [class.visible]="showOverlay && false">
        <h2>Sorry, but the table <span class="is-primary">{{tableName}}</span> does not exist</h2>
        <a routerLink="/" class="link">Back to home?</a>
    </div>
</div>


